{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\Code for fun\\\\React todo list\\\\React_ToDo_List\\\\src\\\\Contexts\\\\TodoContext\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, createContext, useEffect } from \"react\";\nimport todosJson from \"../../Todo.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  todos: []\n};\nexport const TodoContext = /*#__PURE__*/createContext(defaultValues);\nexport const TodoProvider = ({\n  children\n}) => {\n  _s();\n  const [todos, setTodos] = useState(() => {\n    const localData = localStorage.getItem(\"todos\");\n    return localData !== null ? JSON.parse(localData) : todosJson.todos;\n  });\n  // Update ToDo LocalStorage\n  useEffect(() => {\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }, [todos]);\n  function createTodo(description) {\n    if (description.length === 0) {\n      return;\n    }\n    const lastID = todos[todos.length - 1].id;\n    const newCreateToDo = {\n      id: lastID + 1 || 1,\n      description: description,\n      check: false\n    };\n    const newToDos = [...todos, newCreateToDo];\n    setTodos(newToDos);\n  }\n  function deleteTodo(id) {\n    const newTodos = todos.filter(todo => todo.id !== id);\n    console.log(id);\n    setTodos(newTodos);\n  }\n  function changeCheck(id, check) {\n    const todo = todos.find(todo => todo.id === id);\n    if (!todo) return;\n    todos.check = !check;\n    setTodos(todos);\n  }\n  function editDescription(id, description) {\n    const todo = todos.find(todo => todo.id === id);\n    if (!todo) return;\n    todo.description = description;\n    setTodos(todos);\n  }\n  return /*#__PURE__*/_jsxDEV(TodoContext.Provider, {\n    value: {\n      todos,\n      createTodo,\n      deleteTodo,\n      changeCheck,\n      editDescription\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoProvider, \"d/uedKrq0LhV8fbTaf+ZggTiKc4=\");\n_c = TodoProvider;\nvar _c;\n$RefreshReg$(_c, \"TodoProvider\");","map":{"version":3,"names":["React","useState","createContext","useEffect","todosJson","jsxDEV","_jsxDEV","defaultValues","todos","TodoContext","TodoProvider","children","_s","setTodos","localData","localStorage","getItem","JSON","parse","setItem","stringify","createTodo","description","length","lastID","id","newCreateToDo","check","newToDos","deleteTodo","newTodos","filter","todo","console","log","changeCheck","find","editDescription","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Desktop/Code for fun/React todo list/React_ToDo_List/src/Contexts/TodoContext/index.tsx"],"sourcesContent":["import React, { useState, createContext, useEffect } from \"react\";\r\nimport todosJson from \"../../Todo.json\";\r\n\r\ntype Todo = {\r\n  id: number;\r\n  description: string;\r\n  check: boolean;\r\n};\r\n\r\ntype DefaultValuesType = {\r\n  todos: Todo[];\r\n  createTodo?: (description: string) => void;\r\n  deleteTodo?: (id: number) => void;\r\n  changeCheck?: (id: number, check: boolean) => void;\r\n  editDescription?: (id: number, description: string) => void;\r\n  saveEdition?: (description: string) => void;\r\n};\r\n\r\nconst defaultValues: DefaultValuesType = {\r\n  todos: [],\r\n};\r\n\r\nexport const TodoContext = createContext(defaultValues);\r\n\r\nexport const TodoProvider = ({ children }) => {\r\n  const [todos, setTodos] = useState(() => {\r\n    const localData = localStorage.getItem(\"todos\");\r\n    return localData !== null ? JSON.parse(localData) : todosJson.todos;\r\n  });\r\n  // Update ToDo LocalStorage\r\n  useEffect(() => {\r\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\r\n  }, [todos]);\r\n\r\n  function createTodo(description: string) {\r\n    if (description.length === 0) {\r\n      return;\r\n    }\r\n    const lastID = todos[todos.length - 1].id;\r\n    const newCreateToDo = {\r\n      id: lastID + 1 || 1,\r\n      description: description,\r\n      check: false,\r\n    };\r\n    const newToDos = [...todos, newCreateToDo];\r\n    setTodos(newToDos);\r\n  }\r\n  function deleteTodo(id: number) {\r\n    const newTodos = todos.filter((todo) => todo.id !== id);\r\n    console.log(id);\r\n\r\n    setTodos(newTodos);\r\n  }\r\n  function changeCheck(id: number, check: boolean) {\r\n    const todo = todos.find((todo) => todo.id === id);\r\n    if (!todo) return;\r\n    todos.check = !check;\r\n    setTodos(todos);\r\n  }\r\n  function editDescription(id: number, description: string) {\r\n    const todo = todos.find((todo) => todo.id === id);\r\n    if (!todo) return;\r\n    todo.description = description;\r\n    setTodos(todos);\r\n  }\r\n  return (\r\n    <TodoContext.Provider\r\n      value={{\r\n        todos,\r\n        createTodo,\r\n        deleteTodo,\r\n        changeCheck,\r\n        editDescription,\r\n      }}\r\n    >\r\n      {children}\r\n    </TodoContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,aAAa,EAAEC,SAAS,QAAQ,OAAO;AACjE,OAAOC,SAAS,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAiBxC,MAAMC,aAAgC,GAAG;EACvCC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,MAAMC,WAAW,gBAAGP,aAAa,CAACK,aAAa,CAAC;AAEvD,OAAO,MAAMG,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACJ,KAAK,EAAEK,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,MAAM;IACvC,MAAMa,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC/C,OAAOF,SAAS,KAAK,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAGV,SAAS,CAACI,KAAK;EACrE,CAAC,CAAC;EACF;EACAL,SAAS,CAAC,MAAM;IACdY,YAAY,CAACI,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,SAAS,CAACZ,KAAK,CAAC,CAAC;EACtD,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,SAASa,UAAUA,CAACC,WAAmB,EAAE;IACvC,IAAIA,WAAW,CAACC,MAAM,KAAK,CAAC,EAAE;MAC5B;IACF;IACA,MAAMC,MAAM,GAAGhB,KAAK,CAACA,KAAK,CAACe,MAAM,GAAG,CAAC,CAAC,CAACE,EAAE;IACzC,MAAMC,aAAa,GAAG;MACpBD,EAAE,EAAED,MAAM,GAAG,CAAC,IAAI,CAAC;MACnBF,WAAW,EAAEA,WAAW;MACxBK,KAAK,EAAE;IACT,CAAC;IACD,MAAMC,QAAQ,GAAG,CAAC,GAAGpB,KAAK,EAAEkB,aAAa,CAAC;IAC1Cb,QAAQ,CAACe,QAAQ,CAAC;EACpB;EACA,SAASC,UAAUA,CAACJ,EAAU,EAAE;IAC9B,MAAMK,QAAQ,GAAGtB,KAAK,CAACuB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKA,EAAE,CAAC;IACvDQ,OAAO,CAACC,GAAG,CAACT,EAAE,CAAC;IAEfZ,QAAQ,CAACiB,QAAQ,CAAC;EACpB;EACA,SAASK,WAAWA,CAACV,EAAU,EAAEE,KAAc,EAAE;IAC/C,MAAMK,IAAI,GAAGxB,KAAK,CAAC4B,IAAI,CAAEJ,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKA,EAAE,CAAC;IACjD,IAAI,CAACO,IAAI,EAAE;IACXxB,KAAK,CAACmB,KAAK,GAAG,CAACA,KAAK;IACpBd,QAAQ,CAACL,KAAK,CAAC;EACjB;EACA,SAAS6B,eAAeA,CAACZ,EAAU,EAAEH,WAAmB,EAAE;IACxD,MAAMU,IAAI,GAAGxB,KAAK,CAAC4B,IAAI,CAAEJ,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKA,EAAE,CAAC;IACjD,IAAI,CAACO,IAAI,EAAE;IACXA,IAAI,CAACV,WAAW,GAAGA,WAAW;IAC9BT,QAAQ,CAACL,KAAK,CAAC;EACjB;EACA,oBACEF,OAAA,CAACG,WAAW,CAAC6B,QAAQ;IACnBC,KAAK,EAAE;MACL/B,KAAK;MACLa,UAAU;MACVQ,UAAU;MACVM,WAAW;MACXE;IACF,CAAE;IAAA1B,QAAA,EAEDA;EAAQ;IAAA6B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAC/B,EAAA,CAtDWF,YAAY;AAAAkC,EAAA,GAAZlC,YAAY;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}